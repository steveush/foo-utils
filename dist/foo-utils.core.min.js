/*!
* FooUtils - Contains common utility methods and classes used in our plugins.
* @version 1.0.0
* @link https://github.com/steveush/foo-utils#readme
* @copyright Steve Usher 2021
* @license Released under the GPL-3.0 license.
*/

"use strict";function _typeof(n){return(_typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(n){return typeof n}:function(n){return n&&"function"==typeof Symbol&&n.constructor===Symbol&&n!==Symbol.prototype?"symbol":typeof n})(n)}!function(n){n?function(){try{return window.FooUtils}catch(n){return}}()||(window.FooUtils={$:n,version:"1.0.0"}):console.warn("jQuery must be included in the page prior to the FooUtils library.")}(jQuery),function(t,e){"1.0.0"===e.version&&(e.is={},e.is.array=function(n){return"[object Array]"===Object.prototype.toString.call(n)},e.is.boolean=function(n){return"[object Boolean]"===Object.prototype.toString.call(n)},e.is.element=function(n){return"object"===("undefined"==typeof HTMLElement?"undefined":_typeof(HTMLElement))?n instanceof HTMLElement:!!n&&"object"===_typeof(n)&&1===n.nodeType&&"string"==typeof n.nodeName},e.is.empty=function(n){if(e.is.undef(n)||null===n)return!0;if(e.is.number(n)&&0===n)return!0;if(e.is.boolean(n)&&!1===n)return!0;if(e.is.string(n)&&0===n.length)return!0;if(e.is.array(n)&&0===n.length)return!0;if(e.is.jq(n)&&0===n.length)return!0;if(e.is.hash(n)){for(var t in n)if(n.hasOwnProperty(t))return!1;return!0}return!1},e.is.error=function(n){return"[object Error]"===Object.prototype.toString.call(n)},e.is.fn=function(n){return n===window.alert||"[object Function]"===Object.prototype.toString.call(n)},e.is.hash=function(n){return e.is.object(n)&&n.constructor===Object&&!n.nodeType&&!n.setInterval},e.is.jq=function(n){return!e.is.undef(t)&&n instanceof t},e.is.number=function(n){return"[object Number]"===Object.prototype.toString.call(n)&&!isNaN(n)},e.is.object=function(n){return"[object Object]"===Object.prototype.toString.call(n)&&!e.is.undef(n)&&null!==n},e.is.promise=function(n){return e.is.object(n)&&e.is.fn(n.then)&&e.is.fn(n.promise)},e.is.size=function(n){return!!(e.is.string(n)&&!e.is.empty(n)||e.is.number(n))&&/^(auto|none|(?:[\d.]*)+?(?:%|px|mm|q|cm|in|pt|pc|em|ex|ch|rem|vh|vw|vmin|vmax)?)$/.test(n)},e.is.string=function(n){return"[object String]"===Object.prototype.toString.call(n)},e.is.undef=function(n){return void 0===n})}(FooUtils.$,FooUtils),function(u,f,c){var a;"1.0.0"===f.version&&(f.fn={},a=Function.prototype.toString,f.fn.CONTAINS_SUPER=/xyz/.test(a.call(function(){xyz}))?/\b_super\b/:/.*/,f.fn.noop=function(){},f.fn.addOrOverride=function(n,t,e){var r,o,i,s;c.object(n)&&c.string(t)&&!c.empty(t)&&c.fn(e)&&(r=n[t],o=c.fn(r)&&f.fn.CONTAINS_SUPER.test(a.call(e)),n[t]=o?(i=r,s=e,function(){var n=this._super;this._super=i;var t=s.apply(this,arguments);return this._super=n,t}):e)},f.fn.expose=function(t,e,n,r){c.object(t)&&c.object(e)&&c.array(n)&&(r=c.undef(r)?t:r,n.forEach(function(n){c.string(n)&&c.fn(t[n])&&(e[n]=t[n].bind(r))}))},f.fn.apply=function(n,t){return t.unshift(n),new(Function.prototype.bind.apply(n,t))},f.fn.arg2arr=function(n){return Array.prototype.slice.call(n)},f.fn.debounce=function(e,r){var o;return function(){var n=this,t=f.fn.arg2arr(arguments);clearTimeout(o),o=setTimeout(function(){e.apply(n,t)},r)}},f.fn.throttle=function(e,r){var o,i;return function(){var n=this,t=f.fn.arg2arr(arguments);o?(clearTimeout(i),i=setTimeout(function(){Date.now()-o>=r&&(e.apply(n,t),o=Date.now())},r-(Date.now()-o))):(e.apply(n,t),o=Date.now())}},f.fn.resolved=u.Deferred().resolve().promise(),f.fn.rejected=u.Deferred().reject().promise(),f.fn.reject=function(n,t){var e=u.Deferred(),r=f.fn.arg2arr(arguments);return e.reject.apply(e,r).promise()},f.fn.resolve=function(n,t){var e=u.Deferred(),r=f.fn.arg2arr(arguments);return e.resolve.apply(e,r).promise()},f.fn.rejectWith=function(n,t,e){var r=u.Deferred(),o=f.fn.arg2arr(arguments);return o.shift(),r.rejectWith(n,o).promise()},f.fn.resolveWith=function(n,t,e){var r=u.Deferred(),o=f.fn.arg2arr(arguments);return o.shift(),r.resolveWith(n,o).promise()},f.fn.all=function(i){var s=u.Deferred(),a=[];return c.array(i)&&0<i.length?function(){for(var t=function(n,t){r||(a[n]=0===t.length?void 0:1===t.length?t[0]:t,--e||s.resolve(a))},e=i.length,r=!1,o=0,n=i.length;o<n;o++){if("break"===function(){if(r)return"break";var n=o;c.promise(i[n])?i[n].then(function(){t(n,f.fn.arg2arr(arguments))},function(){r||(r=!0,s.reject.apply(s,f.fn.arg2arr(arguments)))}):t(n,[i[n]])}())break}}():s.resolve(a),s.promise()},f.fn.allSettled=function(r){var i=u.Deferred(),s=[];return c.array(r)&&0<r.length?function(){for(var t=function(n,t,e){var r;s[n]={status:t},0<e.length&&(r="rejected"===t?"reason":"value",s[n][r]=1===e.length?e[0]:e),--o||i.resolve(s)},o=r.length,e=0,n=r.length;e<n;e++)!function(){var n=e;c.promise(r[n])?r[n].then(function(){t(n,"fulfilled",f.fn.arg2arr(arguments))},function(){t(n,"rejected",f.fn.arg2arr(arguments))}):t(n,"fulfilled",[r[n]])}()}():i.resolve(s),i.promise()})}(FooUtils.$,FooUtils,FooUtils.is),function(n,s){var i;"1.0.0"===n.version&&(n.url={},i=document.createElement("a"),n.url.parts=function(n){i.href=n;var t=i.port?i.port:-1!==["http:","https:"].indexOf(i.protocol)?"https:"===i.protocol?"443":"80":"",e=i.hostname+(t?":"+t:""),r=i.origin?i.origin:i.protocol+"//"+e,o="/"===i.pathname.slice(0,1)?i.pathname:"/"+i.pathname;return{hash:i.hash,host:e,hostname:i.hostname,href:i.href,origin:r,pathname:o,port:t,protocol:i.protocol,search:i.search}},n.url.full=function(n){return!s.string(n)||s.empty(n)?null:(i.href=n,i.href)},n.url.param=function(n,t,e){return s.string(n)&&s.string(t)&&!s.empty(t)?s.undef(e)?(o=((r=new RegExp("[?|&]"+t+"=([^&;]+?)(&|#|;|$)")).exec(n)||["",""])[1].replace(/\+/g,"%20"),s.string(o)&&!s.empty(o)?decodeURIComponent(o):null):(s.empty(e)?(r=new RegExp("^([^#]*?)(([^#]*)&)?"+t+"(=[^&#]*)?(&|#|$)"),o=n.replace(r,"$1$3$5").replace(/^([^#]*)((\?)&|\?(#|$))/,"$1$3$4")):(r=new RegExp("([?&])"+t+"[^&]*"),i=t+"="+encodeURIComponent(e),(o=n.replace(r,"$1"+i))!==n||r.test(o)||(o+=(-1!==o.indexOf("?")?"&":"?")+i)),o):n;var r,o,i})}(FooUtils,FooUtils.is),function(a,u,f){"1.0.0"===a.version&&(a.str={},a.str.trim=function(n){return u.string(n)?n.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,""):null},a.str.camel=function(n){return u.string(n)?n.toUpperCase()===n?n.toLowerCase():n.replace(/^([A-Z])|[-\s_]+(\w)/g,function(n,t,e){return u.string(e)?e.toUpperCase():t.toLowerCase()}):n},a.str.kebab=function(n){return u.string(n)?n.match(/[A-Z]{2,}(?=[A-Z][a-z0-9]*|\b)|[A-Z]?[a-z0-9]*|[A-Z]|[0-9]+/g).filter(Boolean).map(function(n){return n.toLowerCase()}).join("-"):n},a.str.contains=function(n,t,e){return!(!u.string(n)||u.empty(n)||!u.string(t)||u.empty(t))&&(t.length<=n.length&&-1!==(e?n.toUpperCase().indexOf(t.toUpperCase()):n.indexOf(t)))},a.str.containsWord=function(n,t,e){if(!u.string(n)||u.empty(n)||!u.string(t)||u.empty(t)||n.length<t.length)return!1;for(var r=n.split(/\W/),o=0,i=r.length;o<i;o++)if(e?r[o].toUpperCase()===t.toUpperCase():r[o]===t)return!0;return!1},a.str.endsWith=function(n,t){return!(!u.string(n)||!u.string(t)||t.length>n.length)&&n.slice(n.length-t.length)===t},a.str.startsWith=function(n,t){return!u.empty(n)&&!u.empty(t)&&n.slice(0,t.length)===t},a.str.escapeRegExp=function(n){return u.string(n)?n.replace(/[.*+?^${}()|[\]\\]/g,"\\$&"):n},a.str.fnv1a=function(n){if(!u.string(n)||u.empty(n))return null;for(var t=2166136261,e=0,r=n.length;e<r;e++)t^=n.charCodeAt(e),t+=(t<<1)+(t<<4)+(t<<7)+(t<<8)+(t<<24);return t>>>0},a.str.from=function(n,t){return a.str.contains(n,t)?n.substring(n.indexOf(t)+t.length):null},a.str.join=function(n,t,e){if(!u.string(n)||!u.string(t))return null;var r=f.arg2arr(arguments);n=r.shift();for(var o=r.shift(),i=0,s=r.length;i<s;i++)t=r[i],u.empty(t)||(a.str.endsWith(o,n)&&(o=o.slice(0,o.length-n.length)),a.str.startsWith(t,n)&&(t=t.slice(n.length)),o+=n+t);return o},a.str.until=function(n,t){return a.str.contains(n,t)?n.substring(0,n.indexOf(t)):n},a.str.format=function(e,n,t){var r=f.arg2arr(arguments);return e=r.shift(),u.string(e)&&0<r.length&&(1===r.length&&(u.array(r[0])||u.object(r[0]))&&(r=r[0]),a.each(r,function(n,t){e=e.replace(new RegExp("\\{"+t+"\\}","gi"),n+"")})),e})}(FooUtils,FooUtils.is,FooUtils.fn),function(a,u,o,i){"1.0.0"===a.version&&(a.obj={},a.obj.create=function(n){if(!u.object(n))throw TypeError("Argument must be an object");function t(){}return t.prototype=n,new t},a.obj.extend=function(t,n,e){t=u.object(t)?t:{};var r=o.arg2arr(arguments);return r.shift(),a.each(r,function(n){a.obj.merge(t,n)}),t},a.obj.merge=function(n,t){for(var e in n=u.hash(n)?n:{},t=u.hash(t)?t:{})t.hasOwnProperty(e)&&(u.hash(t[e])?(n[e]=u.hash(n[e])?n[e]:{},a.obj.merge(n[e],t[e])):u.array(t[e])?n[e]=t[e].slice():n[e]=t[e]);return n},a.obj.mergeValid=function(t,e,r,n){if(!u.hash(r)||!u.hash(e))return t;var o,i,s;for(o in e=u.hash(e)?e:{},n=u.hash(n)?n:{},e)e.hasOwnProperty(o)&&u.fn(e[o])&&(i=u.array(n[o])?n[o]:u.string(n[o])?[n[o]]:[o],a.each(i,function(n){if(s=a.obj.prop(r,n),!u.undef(s))return e[o](s)?(a.obj.prop(t,o,s),!1):void 0}));return t},a.obj.prop=function(e,n,r){var t,o;if(u.object(e)&&!u.empty(n))return u.undef(r)?(i.contains(n,".")?(t=n.split("."),o=t.length-1,a.each(t,function(n,t){if(t===o)r=e[n];else{if(!u.hash(e[n]))return!1;e=e[n]}})):u.undef(e[n])||(r=e[n]),r):void(i.contains(n,".")?(t=n.split("."),o=t.length-1,a.each(t,function(n,t){t===o?e[n]=r:e=u.hash(e[n])?e[n]:e[n]={}})):u.undef(e[n])||(e[n]=r))})}((FooUtils.$,FooUtils),FooUtils.is,FooUtils.fn,FooUtils.str),function(t,o,s){"1.0.0"===o.version&&(o.ready=function(n){function t(){try{n.call(window,o.$)}catch(n){console.error(n)}}(Function("/*@cc_on return true@*/")()?"complete"===document.readyState:"loading"!==document.readyState)?t():document.addEventListener("DOMContentLoaded",t,!1)},o.find=function(n,t,e){if(s.fn(t))if(e=s.undef(e)?t:e,s.array(n)){for(o=0,i=n.length;o<i;o++)if(t.call(e,n[o],o,n))return n[o]}else if(s.object(n))for(var r=Object.keys(n),o=0,i=r.length;o<i;o++)if(t.call(e,n[r[o]],r[o],n))return n[r[o]]},o.each=function(n,t,e){if(s.fn(t))if(e=s.undef(e)?t:e,s.array(n))for(o=0,i=n.length;o<i&&!1!==t.call(e,n[o],o,n);o++);else if(s.object(n))for(var r=Object.keys(n),o=0,i=r.length;o<i&&!1!==t.call(e,n[r[o]],r[o],n);o++);},o.inArray=function(n,t){return s.array(t)?t.indexOf(n):-1},o.selectify=function(n){if(s.empty(n))return null;if(s.hash(n)){var t,e={};for(var r in n)n.hasOwnProperty(r)&&(t=o.selectify(n[r]))&&(e[r]=t);return e}return s.string(n)||s.array(n)?(s.string(n)&&(n=[n]),n.map(function(n){return s.string(n)?"."+n.split(/\s/g).join("."):null}).join(",")):null},o.requestFrame=(window.requestAnimationFrame||window.webkitRequestAnimationFrame||function(n){return setTimeout(n,1e3/60)}).bind(window),o.cancelFrame=(window.cancelAnimationFrame||window.webkitCancelAnimationFrame||function(n){clearTimeout(n)}).bind(window),o.nextFrame=function(n,e){return t.Deferred(function(t){s.fn(n)?(e=s.undef(e)?n:e,o.requestFrame(function(){try{t.resolve(n.call(e))}catch(n){t.reject(n)}})):t.reject(new Error("Provided callback is not a function."))}).promise()})}(FooUtils.$,FooUtils,FooUtils.is);