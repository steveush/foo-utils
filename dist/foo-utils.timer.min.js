/*!
* FooUtils - Contains common utility methods and classes used in our plugins.
* @version 1.0.0
* @link https://github.com/steveush/foo-utils#readme
* @copyright Steve Usher 2021
* @license Released under the GPL-3.0 license.
*/

"use strict";!function(t,i,n){"1.0.0"===t.version&&(t.Timer=t.EventClass.extend({construct:function(t){var e=this;e._super(),e.interval=i.number(t)?t:1e3,e.isRunning=!1,e.isPaused=!1,e.canResume=!1,e.canRestart=!1,e.__timeout=null,e.__decrement=!1,e.__time=0,e.__remaining=0,e.__current=0,e.__finish=0,e.__restart=[]},__reset:function(){var t=this;clearTimeout(t.__timeout),t.__timeout=null,t.__decrement=!1,t.__time=0,t.__remaining=0,t.__current=0,t.__finish=0,t.isRunning=!1,t.isPaused=!1,t.canResume=!1},__eventArgs:function(t){var e=this;return[e.__current,e.__time,e.__decrement].concat(n.arg2arr(arguments))},__tick:function(){var t=this;t.trigger("tick",t.__eventArgs()),t.__current===t.__finish?(t.trigger("complete",t.__eventArgs()),t.__reset()):(t.__decrement?t.__current--:t.__current++,t.__remaining--,t.canResume=0<t.__remaining,t.__timeout=setTimeout(function(){t.__tick()},t.interval))},start:function(t,e){var n=this;n.isRunning||(e=!!i.boolean(e)&&e,n.__restart=[t,e],n.__decrement=e,n.__time=t,n.__remaining=t,n.__current=e?t:0,n.__finish=e?0:t,n.canRestart=!0,n.isRunning=!0,n.isPaused=!1,n.trigger("start",n.__eventArgs()),n.__tick())},countdown:function(t){this.start(t,!0)},countup:function(t){this.start(t,!1)},restart:function(){var t=this;t.stop(),t.canRestart&&t.start.apply(t,t.__restart)},stop:function(){var t=this;(t.isRunning||t.isPaused)&&(t.__reset(),t.trigger("stop",t.__eventArgs()))},pause:function(){var t=this;return null!=t.__timeout&&(clearTimeout(t.__timeout),t.__timeout=null),t.isRunning&&(t.isRunning=!1,t.isPaused=!0,t.trigger("pause",t.__eventArgs())),t.__remaining},resume:function(){var t=this;t.canResume&&(t.isRunning=!0,t.isPaused=!1,t.trigger("resume",t.__eventArgs()),t.__tick())},reset:function(){this.__reset(),this.trigger("reset",this.__eventArgs())}}))}((FooUtils.$,FooUtils),FooUtils.is,FooUtils.fn,FooUtils.obj);